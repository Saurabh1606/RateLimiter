┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Request       │───▶│  Token Bucket    │───▶│   Allow/Deny    │
│   (User ID)     │    │  (Redis + Lua)   │    │   Response      │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                              │
                              ▼
                       ┌──────────────────┐
                       │  Token Refill    │
                       │  (Time-based)    │
                       └──────────────────┘
